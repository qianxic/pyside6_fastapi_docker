# 遥感影像变化检测系统 V1.0

## 项目简介

遥感影像变化检测系统是一个基于深度学习的智能遥感影像分析平台，采用前后端分离架构设计。系统支持图像版和影像版两种工作模式，能够自动识别和分析遥感影像中的变化信息，广泛应用于城市规划、环境监测、灾害评估等领域。

**制作人**: qianxiR  
**完成时间**: 2025年8月31日

## 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                    遥感影像变化检测系统 V1.0                    │
├─────────────────────────────────────────────────────────────┤
│                       前端应用 (PySide6)                      │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  图像显示与交互模块                                │    │
│  │  批量处理管理                                       │    │
│  │  渔网分割功能                                       │    │
│  │  主题切换系统                                       │    │
│  │  API通信模块 (与后端容器交互)                       │    │
│  └─────────────────────────────────────────────────────┘    │
│                              │                              │
│                              ▼                              │
│                    ┌───────────────────────┐                │
│                    │  Docker容器化后端服务  │                │
│                    │  ┌─────────────────┐  │                │
│                    │  │  FastAPI服务    │  │                │
│                    │  │  AI模型推理     │  │                │
│                    │  │  (PyTorch+X3D)  │  │                │
│                    │  │  地理空间处理   │  │                │
│                    │  │  (GDAL+GeoPandas)│ │                │
│                    │  └─────────────────┘  │                │
│                    │  GPU加速支持          │                │
│                    └───────────────────────┘                │
└─────────────────────────────────────────────────────────────┘
```

## 技术栈

### 🧠 深度学习 & AI
- **PyTorch 2.8.0** - 核心深度学习框架
- **CUDA 12.6** - GPU并行计算加速
- **X3D模型** - 3D卷积神经网络架构

### 🌍 地理信息系统 (GIS)
- **GDAL** - 地理空间数据抽象库
- **GeoPandas** - 地理空间数据分析
- **Rasterio** - 栅格影像处理

### 🖥️ 前端界面
- **PySide6** - 现代Qt框架
- **响应式布局** - 四区域设计
- **主题系统** - 深色/浅色主题切换

### 🚀 后端服务
- **FastAPI** - 高性能异步Web框架
- **Uvicorn** - ASGI服务器
- **异步编程** - 并发处理优化

### 🐳 容器化 & 部署
- **Docker** - 容器化部署
- **Docker Compose** - 多容器编排
- **NVIDIA Docker** - GPU容器支持

## 功能特性

### 🎯 变化检测能力
- **单图像处理** - 普通图像变化检测
- **栅格影像处理** - 地理信息保持的变化检测
- **批量处理** - 大规模影像对批量分析
- **矢量导出** - Shapefile、GeoJSON格式输出

### 🖼️ 图像处理
- **多格式支持**：
  - 图像版：PNG、JPG、JPEG
  - 影像版：TIFF、GeoTIFF、IMG、DEM、HGT
- **可缩放显示** - 支持鼠标滚轮缩放、拖拽平移
- **区域选择** - 支持图像区域选择功能

### 🎨 用户界面
- **响应式布局** - 四区域设计（前时相、后时相、结果、日志）
- **主题切换** - 支持深色/浅色主题
- **实时日志** - 处理过程实时显示
- **进度提示** - 任务执行进度可视化

### ⚡ 性能优化
- **GPU加速** - CUDA并行计算
- **异步处理** - 后台任务队列
- **内存优化** - 智能内存管理
- **并发支持** - 多任务并行处理

## 快速部署

### 环境要求
- **操作系统**: Ubuntu 20.04+ / Windows 10+ / macOS 10.15+
- **Python**: 3.10+
- **Docker**: 20.10+
- **GPU**: NVIDIA GPU (推荐) + CUDA 12.6
- **内存**: 8GB+ (推荐16GB+)

### 部署步骤

#### 1. 克隆项目
```bash
git clone <repository-url>
cd 遥感影像变化检测系统V1.1
```

#### 2. 启动后端API服务
```bash
cd change3d_api_docker
docker-compose -f docker-compose.optimized.yml up --build -d
```

#### 3. 启动前端界面
```bash
cd ..
pip install -r requirements.txt
python start_app.py
```

## 使用指南

### 基本操作流程

1. **启动系统**
   - 确保后端API服务运行在 `http://localhost:8000`
   - 启动前端应用程序

2. **选择工作模式**
   - **图像版**：适用于普通图像的变化检测
   - **影像版**：适用于栅格影像的地理信息保持检测

3. **导入影像**
   - 点击"导入前时相影像"选择较早时期的影像
   - 点击"导入后时相影像"选择较新时期的影像

4. **执行变化检测**
   - 点击"开始解译"按钮
   - 等待AI算法处理完成
   - 查看解译结果

5. **批量处理**
   - 点击"批量处理"按钮
   - 选择输入目录和输出目录
   - 启动批量任务

## API接口

### 变化检测接口

#### 单图像变化检测
```http
POST /detect/single_image
```

#### 栅格影像变化检测
```http
POST /detect/single_raster
```

#### 批量图像处理
```http
POST /detect/batch_image
```

#### 批量栅格处理
```http
POST /detect/batch_raster
```

## 故障排除

### 常见问题

1. **应用启动失败**
   - 检查Python版本（需要3.10+）
   - 确认依赖包安装完整

2. **GPU不可用**
   ```bash
   docker run --rm --gpus all nvidia/cuda:12.6-base-ubuntu20.04 nvidia-smi
   ```

3. **API连接失败**
   - 确认后端服务运行状态
   - 检查网络连接

### 日志分析
```bash
# 查看后端日志
docker-compose -f change3d_api_docker/docker-compose.optimized.yml logs -f
```

## 版本历史

### v1.0.0 (2025-08-31)
- 整合前后端功能
- 优化Docker镜像构建
- 增强GPU支持
- 改进错误处理机制
- 添加批量处理功能
- 完善用户界面

### v0.9.0 (2024-01-01)
- 初始版本发布
- 基础变化检测功能
- FastAPI接口实现
- Docker容器化部署

## 联系方式

- **制作人**: qianxiR
- **完成时间**: 2025年8月31日
- **邮箱**: support@rsiis.com
- **项目地址**: https://github.com/your-repo/rsiis-system

---

**注意**: 使用本系统前请确保已正确配置GPU环境，并具备相应的遥感影像数据。系统支持Docker容器化部署，推荐使用GPU加速以获得最佳性能。
